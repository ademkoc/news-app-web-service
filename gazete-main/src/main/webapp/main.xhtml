<ui:composition xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://java.sun.com/jsf/facelets" template="masterpage.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">

<ui:define name="page-header">
	<f:metadata>
    	<f:viewAction action="#{main.onload}" />
	</f:metadata>
</ui:define>

<ui:define name="page-content">

	<main>
		<!-- ### HABERLER BASLANGIC ### -->
		<div id="haberler-section">
			<section class="mdl-grid">		
				<div class="mdl-cell mdl-cell--12-col">
			    	<h3>Haberler</h3>
			    	
		    		<h:form id="formid-haberler" class="mdl-data-table mdl-shadow--2dp my-form">
						<div class="mdl-textfield mdl-js-textfield">
						    <h:inputText value="#{haberler.baslik}" class="mdl-textfield__input" id="baslik"></h:inputText>
						    <label class="mdl-textfield__label" for="baslik">Haber başlık</label>
					  	</div>
						<br/>
					  	<div class="mdl-textfield mdl-js-textfield">
						    <h:inputTextarea value="#{haberler.haberMetni}" class="mdl-textfield__input" rows= "3" id="haber-metni" cols="3"></h:inputTextarea>
						    <label class="mdl-textfield__label" for="haber-metni">Haber metni...</label>
					  	</div>
						<br/>
					  	<div class="mdl-textfield mdl-js-textfield">
						    <h:inputText value="#{haberler.resimUrl}" class="mdl-textfield__input" id="resim-url"></h:inputText>
						    <label class="mdl-textfield__label" for="resim-url">Resim linki</label>
					  	</div>
						<br/>
						<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
				            <h:selectOneMenu id="selector" value="#{haberler.selectedKategori}" class="mdl-textfield__input">
							   <f:selectItems value="#{haberler.kategoriler}" class=""/>
							</h:selectOneMenu>
				        </div>
						<br/>
						<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
				            <h:selectOneMenu value="#{haberler.selectedKaynak}" class="mdl-textfield__input">
							   <f:selectItems value="#{haberler.kaynaklar}" class="mdl-textfield__label"/>
							</h:selectOneMenu>
				        </div>
						<br/>
						<h:commandButton action="#{haberler.saveHaber}" value="Ekle" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored"/>
					</h:form>
					
	    			<h:dataTable value="#{haberler.haberList}" var="o" 
	    				headerClass="custom-th"
	    				columnClasses="mdl-data-table__cell--non-numeric,mdl-data-table__cell--non-numeric,mdl-data-table__cell--non-numeric,mdl-data-table__cell--non-numeric,custom-td,custom-td,custom-td,mdl-data-table__cell--non-numeric"
	    				styleClass="mdl-data-table mdl-js-data-table mdl-shadow--2dp" >
	    				
		    			<h:column>
		    				<f:facet name="header">ID</f:facet>
		    				#{o.id}
		    			</h:column>
		
			    		<h:column>
		    				<f:facet name="header">ID From Source</f:facet>
		    				#{o.idFromSource}
		    			</h:column>
		    			
		    			<h:column>
		    				<f:facet name="header">Kategori</f:facet>
		    				#{o.kategori.kategoriAdi}
		    			</h:column>
		    	
		     			<h:column>
		    				<f:facet name="header">Kaynak</f:facet>
		    				#{o.kaynak.kaynakAdi}
		    			</h:column>
		    			
		    			<h:column>
		    				<f:facet name="header">Haber Başlığı</f:facet>
		    				#{o.haberBaslik}
		    			</h:column>
		    			
		    			<h:column>
		    				<f:facet name="header">Haber Resmi</f:facet>
		    				<a href="#{o.imgUrl}" target="_blank">#{o.imgUrl}</a>
		    			</h:column>
		    			
		    			<h:column>
		    				<f:facet name="header">Haber Metni</f:facet>
		    				#{o.haberMetni}
		    			</h:column>
		
			    		<h:column>
		    				<f:facet name="header">Tarih</f:facet>
		    				#{o.tarih}
		    			</h:column>
		    			
		    		</h:dataTable>
				
				</div>
				
			</section>

		</div>
		<!-- ### HABERLER BITIS ### -->
		
		<!-- ### KULLANICILAR BASLANGIC ### -->
		<div id="kullanicilar-section">
			<section class="mdl-grid">		
				<div class="mdl-cell mdl-cell--12-col">
			    	<h3>Kullanıcılar</h3>
			    	
	 		    	<h:form id="formid-kullanicilar" class="mdl-data-table mdl-shadow--2dp my-form">
						<div class="mdl-textfield mdl-js-textfield">
						    <h:inputText value="#{kullanicilar.isim}" class="mdl-textfield__input" id="isim"></h:inputText>
						    <label class="mdl-textfield__label" for="isim">İsim</label>
					  	</div>
						<br/>
					  	<div class="mdl-textfield mdl-js-textfield">
						    <h:inputText value="#{kullanicilar.eposta}" class="mdl-textfield__input" id="e-posta"></h:inputText>
						    <label class="mdl-textfield__label" for="e-posta">E-Posta</label>
					  	</div>
						<br/>
					  	<div class="mdl-textfield mdl-js-textfield">
						    <h:inputSecret value="#{kullanicilar.sifre}" class="mdl-textfield__input" id="sifre"></h:inputSecret>
						    <label class="mdl-textfield__label" for="sifre">Şifre</label>
					  	</div>
						<br/>
					  	<div class="mdl-textfield mdl-js-textfield">
						    <h:inputText value="#{kullanicilar.token}" class="mdl-textfield__input" id="token"></h:inputText>
						    <label class="mdl-textfield__label" for="token">Token</label>
					  	</div>
						<br/>
						<h:commandButton action="#{kullanicilar.saveKullanici}" value="Ekle" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored"/>
					</h:form>
				
	    			<h:dataTable value="#{kullanicilar.kullanicilarList}" var="k" 
	    				headerClass="custom-th"
	    				columnClasses="mdl-data-table__cell--non-numeric,mdl-data-table__cell--non-numeric,mdl-data-table__cell--non-numeric,custom-td"
	    				styleClass="mdl-data-table mdl-js-data-table mdl-shadow--2dp" >
	    				
		    			<h:column>
		    				<f:facet name="header">ID</f:facet>
		    				#{k.id}
		    			</h:column>
		
			    		<h:column>
		    				<f:facet name="header">E-Posta</f:facet>
		    				#{k.eposta}
		    			</h:column>
		    			
		    			<h:column>
		    				<f:facet name="header">İsim</f:facet>
		    				#{k.isim}
		    			</h:column>
		    			
		    			<h:column>
		    				<f:facet name="header">Token</f:facet>
		    				#{k.token}
		    			</h:column>
		    			
		    		</h:dataTable>
				
				</div>
			</section>
		</div>
		<!-- ### KULLANICILAR BITIS ### -->
		
		<!-- ### KATEGORILER BASLANGIC ### -->
		<div id="kategoriler-section">
			<section class="mdl-grid">		
				<div class="mdl-cell mdl-cell--12-col">
			    	<h3>Kategoriler</h3>
				
					<h:form id="formid-kategoriler" class="mdl-data-table mdl-shadow--2dp my-form">
			  			<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
							<h:inputText value="#{kategoriler.kategori}" id="kategoriAdi" class="mdl-textfield__input"/>
				    		<label class="mdl-textfield__label" for="kategoriAdi">Kaynak</label>
						</div>
						<br/>
						<h:commandButton action="#{kategoriler.saveKategori()}" value="Ekle" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored"/>
					</h:form>
					
					<h:dataTable value="#{kategoriler.kategoriList}" var="k" 
	    				headerClass="custom-th"
	    				id="kategorilerDataTable"
	    				columnClasses="mdl-data-table__cell--non-numeric,mdl-data-table__cell--non-numeric"
	    				styleClass="mdl-data-table mdl-js-data-table" >
	    				
		    			<h:column>
		    				<f:facet name="header">ID</f:facet>
		    				#{k.id}
		    			</h:column>
		
			    		<h:column>
		    				<f:facet name="header">Kategori</f:facet>
							#{k.kategoriAdi}
		    			</h:column>
		    		
		    		</h:dataTable>
				</div>
			</section>
		</div>
		<!-- ### KATEGORILER BITIS ### -->
		
		<!-- ### KAYNAKLAR BASLANGIC ### -->
		<div id="kaynaklar-section"> 
			<section class="mdl-grid">			
				<div class="mdl-cell mdl-cell--12-col">
			    	<h3>Kaynaklar</h3>
			   
			    	<h:form id="formid-kaynaklar" class="mdl-data-table mdl-shadow--2dp my-form">
			  			<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
							<h:inputText value="#{kaynaklar.kaynakAdi}" id="kaynak" class="mdl-textfield__input"/>
				    		<label class="mdl-textfield__label" for="kaynak">Kaynak</label>
						</div>
						<br/>
			  			<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
							<h:inputText value="#{kaynaklar.imgUrl}" id="kategoriResimUrl" class="mdl-textfield__input"/>
				    		<label class="mdl-textfield__label" for="kategoriResimUrl">Kategori resim yolu</label>
						</div>
						<br/>
						<h:commandButton action="#{kaynaklar.saveKaynak}" value="Ekle" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored"/>
						<div id="mess"><h:messages for="kaynak" style="color:red;display:none"/></div>
					</h:form>
				
					<h:dataTable value="#{kaynaklar.kaynaklarList}" var="k" 
	    				headerClass="custom-th"
	    				columnClasses="mdl-data-table__cell--non-numeric,mdl-data-table__cell--non-numeric,custom-th"
	    				styleClass="mdl-data-table mdl-js-data-table mdl-shadow--2dp" >
	    				
		    			<h:column>
		    				<f:facet name="header">ID</f:facet>
		    				#{k.id}
		    			</h:column>
		
			    		<h:column>
		    				<f:facet name="header">Kaynak Adı</f:facet>
		    				#{k.kaynakAdi}
		    			</h:column>
		
			    		<h:column>
		    				<f:facet name="header">Kaynak Resmi</f:facet>
		    				#{k.imgUrl}
		    			</h:column>
		    			
		    		</h:dataTable>
				
				</div>
			</section>
		</div>
		<!-- ### KAYNAKLAR BITIS ### -->
		
		<div id="demo-toast-example" class="mdl-js-snackbar mdl-snackbar">
		  	<div class="mdl-snackbar__text"></div>
		  	<button class="mdl-snackbar__action" type="button"></button>
		</div>
	</main>
</ui:define>

<ui:define name="styles">
	<script type="text/javascript">
		$("nav.mdl-navigation a" ).click(function(event) {
			$("div[id$='section']").css("display","none");

			var itemValue = $(event.target).attr('name').toLowerCase();
			$("nav.mdl-navigation a").removeClass("mdl-navigation__link--current");
			$(this).addClass("mdl-navigation__link--current");

			var itemHref = $(event.target).attr('href');
			$(itemHref).css("display", "inherit");
			
		});

		$(document).ready(function(){
			$("div[id$='section']").css("display","none");
			
			var urlHash = $(location).attr('hash');
			if(urlHash != ""){
				$(urlHash).css("display", "inherit");
				$("a[href^='"+urlHash+"']").addClass("mdl-navigation__link--current");
			}

			$("div.mdl-cell").addClass("parent-css");
			$("div.mdl-cell form").addClass("child-css");
			$("div.mdl-cell table").addClass("child-css");
		});
		
		r(function(){
			var asd = $("#mess").text().trim();
			if(asd != "") {
				if(asd=="200") {
				    var data = {message: 'Kayıt Başarılı'};
				}else if(asd=="400") {
				    var data = {message: 'Kayıt Başarısız'};
				}
				'use strict';
			  	var snackbarContainer = document.querySelector('#demo-toast-example');
			    snackbarContainer.MaterialSnackbar.showSnackbar(data);
			}
		});
		function r(f){/in/.test(document.readyState)?setTimeout('r('+f+')',9):f()}
	 </script>  
</ui:define>

</ui:composition>